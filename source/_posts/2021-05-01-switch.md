---
title: "Nintendo Switch 使用指北"
date: 2021-05-1T22:30:00+08:00
tags:		["折腾"]
---

# Nintendo Switch 使用指北

终于，模拟器玩家还是入正了。

## 5GHz WiFi

switch 很顶的只支持 `36-48` 信道的 5GHz WiFi，所以导致有些 5GHz WiFi 根本搜不到。

## 网络设置

switch 在国内常常难以联机，因此需要进行一些设置。

### http 代理

就跟平常的一样，没什么可说的

### DNS

http 代理只能解决下载速度问题，而 联机 则最好要修改 DNS。网上有很多 DNS 推荐，我一般就用 Cloudflare 的 `1.1.1.1`

### NAT 类型

其实我也不知道这有什么用，但是似乎各类加速器都推荐把 NAT 类型搞到 A。也有人说 NAT A和B都够用了，尚不知是否正确。

要把 NAT 类型 搞到 A 其实很简单，就是 路由器上把 switch 的端口暴露到公网即可（当然你得是公网路由器，像我宿舍目前 WISP 的套娃路由器就最多到 NAT B）。

我用 *wireshark* 抓了一会包，发现 switch 的 *连接测试* 主要由三部分组成：网络类型检测，下载速度测试，上传速度测试。

~~理论上，我们只要把网络类型检测所用到的端口暴露出去就可以了。可惜的是 *任天堂* 用的是随机端口，因此我们只能范围转发。目前我抓到的最小的端口号是 `21424`，最大的是 `58603`，范围很广。。不过为了迁就潜在的 其它需求），~~（这里的端口似乎并不和 NAT 类型检测直接相关）我就把 switch 的端口转发范围限定在了 `50000 ~ 65535`，不出意外的话应该够用了。

当然，为了能够设置端口转发，自然需要将 switch 的 ip 地址固定下来。

![](network.jpg)
